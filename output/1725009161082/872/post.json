{"id":"872","user":{"id":"136399","nickname":"可执行程序.exe","avatar_url":"https://static.codemao.cn/FoEkoH9i9BIHIRbNiseYD7nhDCUh?attname=","subject_id":0,"work_shop_name":"","work_shop_level":0,"wuhan_medal":false,"has_signed":false},"title":"自己做的BAT关机小工具","content":"<p><p> <img src=\"https://frontend-staging.codemao.cn/FiaGw4PL0iiktizlFShK6zfLzjRQ\"> </p> \n<p> 源代码： </p> \n<p> @echo off<br> title系统关机<br> :loop<br> cls<br> color bc<br> echo.<br> echo.<br> echo *** WINDOWSXP 快速关机系统 ***<br> echo.<br> echo 快速关机……………………请直接回车<br> echo 开始倒计时关机……………请输入1并回车<br> echo 设定时间点关机……………请输入2并回车<br> echo 显示计时关机………………请输入3并回车<br> echo 设定每天关机………………请输入4并回车<br> echo 取消系统关机………………请输入5并回车<br> echo 退出…………………………请输入6并回车<br> echo.<br> echo 制作：编程猫@可执行程序.exe<br> echo.<br> set a=<br> set /p a= 【 请输入 】:<br> if \\\"%a%\\\"==\\\"1\\\" goto aaa<br> if \\\"%a%\\\"==\\\"2\\\" goto bbb<br> if \\\"%a%\\\"==\\\"5\\\" goto ccc<br> if \\\"%a%\\\"==\\\"\\\" goto ddd<br> if \\\"%a%\\\"==\\\"3\\\" goto eee<br> if \\\"%a%\\\"==\\\"4\\\" goto fff<br> if \\\"%a%\\\"==\\\"6\\\" exit<br> goto loop<br> :ddd<br> @echo off<br> color e5<br> cls<br> echo.<br> echo.<br> echo 〖系统即将关机并结束进程〗<br> pause<br> echo.<br> ::ntsd -c q -pn %run%<br> taskkill /f /t /im pfw.exe /f /t /im internat.exe /f /t /im explorer.exe<br> shutdown -s -f -t 0 -c \\\"取消请运行shutdown -a\\\"<br> exit<br> :aaa<br> @echo off<br> color f4<br> echo.<br> echo.<br> echo.<br> echo 现在将设置系统自动关机,请在此输入倒计时秒数后回车,系统将在设定时间自动关闭<br> set mytime=<br> set /p mytimes= 【 倒计时关机请输入 小时数】:<br> set /a mytimes=%mytimes%*3600<br> set /p mytimef= 【 倒计时关机请输入 分钟数】:<br> set /a mytimef=%mytimef%*60<br> set /p mytimem= 【 倒计时关机请输入 秒 数】:<br> set /a mytime=%mytimes%+%mytimef%+%mytimem%<br> shutdown -s -t %mytime% -c \\\"取消请运行shutdown -a\\\"<br> cls<br> echo.<br> echo 〖系统将在%mytime%秒后关机〗<br> echo.<br> pause<br> goto loop<br> :bbb<br> @echo off<br> color f9<br> echo.<br> echo.<br> echo.<br> echo 现在将设置系统自关机,请在此输入关机时间(如12:00)回车,系统将定时自动关闭<br> set mytimes=<br> set mytimef=<br> set /p mytimes= 【 定时关机请输入 时】:<br> set /p mytimef= 【 定时关机请输入 分】:<br> at %mytimes%:%mytimef% shutdown -s -t 0<br> ::这表示在mytime分执行shutdown -s -t 0操作.如果当前时间大于任务执行时间,则默认为明日执行,0为倒计时时间.<br> echo.<br> echo 〖现在将显示所有计划〗<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> at<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> pause<br> ::显示计划并暂停<br> goto loop<br> :ccc<br> @echo off<br> color f2<br> echo.<br> echo.<br> echo.<br> echo 〖现在将设置取消系统自动关机〗<br> echo.<br> pause<br> shutdown -a<br> echo.<br> echo.<br> echo 〖现在将显示所有计划,在回车后取消计划且无须确认〗<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> at<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> pause<br> at /del /yes<br> ::取消所有计划并无须确认<br> cls<br> echo.<br> echo 〖系统已经取消自动关机〗<br> echo 〖系统已经取消所有计划任务〗<br> echo.<br> pause<br> goto loop<br> :eee<br> @echo off<br> color f4<br> echo.<br> echo.<br> echo.<br> echo 现在将设置系统自动关机,请在此输入倒计时秒数后回车,系统将在设定时间自动关闭<br> set mytime=<br> ::此行是为了清mytime变量值,以免在不注意的情况下存在变量值,此为一种好的习惯.<br> set mytimes=0<br> ::赋值为0是为了使%mytimes%不致于无意义,下同.<br> set mytimef=0<br> set mytimem=0<br> set /p mytimes= 【 倒计时关机请输入 小时数】:<br> set /a mytimes=%mytimes%*3600<br> set /p mytimef= 【 倒计时关机请输入 分钟数】:<br> set /a mytimef=%mytimef%*60<br> set /p mytimem= 【 倒计时关机请输入 秒 数】:<br> color a3<br> mode con cols=30 lines=4<br> set /a mytime=%mytimes%+%mytimef%+%mytimem%<br> SET wait=ping -n 2 127.0.0.1 ^&gt;^nul<br> for /l %%n in (%mytime%,-1,0) do (<br> rem cls<br> echo *******************<br> echo 〖%%n秒后自动关机〗<br> echo *******************<br> %wait%<br> cls<br> )<br> shutdown -s -t 0<br> goto loop<br> :fff<br> @echo off<br> color f9<br> echo.<br> echo.<br> echo.<br> echo 现在将设置系统每天运行自关机<br> <br> <br> echo.<br> set myopengs=<br> set /p myopengs= 【重复设定请输入单空格+回车,单次及最后一次设定请回车】<br> echo.<br> echo 请在此输入关机时间(如12:00)后回车,系统将定时关闭<br> echo.<br> set mytimes=<br> set mytimef=<br> set /p mytimes= 【 定时关机请输入 时】:<br> set /p mytimef= 【 定时关机请输入 分】:<br> at %mytimes%:%mytimef% /EVEry:M,T,W,Th,F,S,Su shutdown -s -f<br> echo.<br> echo 〖现在将显示所有计划〗<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> at<br> echo ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■<br> pause<br> ::显示计划并暂停<br> if \\\"%myopengs%\\\"==\\\" \\\" goto :fff<br> goto loop<br> </p></p>","board_id":"7","board_name":"灌水池塘","updated_at":1466168552,"created_at":1465729003,"n_views":235,"n_replies":13,"n_comments":0,"is_authorized":false,"is_featured":false,"is_hotted":false,"is_pinned":false,"tutorial_flag":0,"ask_help_flag":0}