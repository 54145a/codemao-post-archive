{"id":"10335","user":{"id":"387964","nickname":"贡菊","avatar_url":"https://static.codemao.cn/FuwhpRWUdvgXuoxj8tLFzeWKiDbU","subject_id":0,"work_shop_name":"","work_shop_level":0,"wuhan_medal":false,"has_signed":false},"title":"【贡菊的小课堂】萌新也能做电梯（第一课）","content":"<p><p>前言：<font color=\"#880000\">这个教程非常简单，萌新也能很快学会。</font>&nbsp;</p>\n<p>大家好，今天看到有人在社区中询问钨冬大大的电梯到底是如何制作的，我也给大家分享一下我制作电梯的方法吧。&nbsp;</p>\n<p style=\"text-align: center;\"><font size=\"3\">&nbsp;第一步 确定电梯的位置</font>&nbsp;</p>\n<p>使用【宇宙中心】世界，地图中有已经给电梯留好的位置。&nbsp;</p>\n<p>在宇宙中心里，<font color=\"#880000\">按Tab键查看位置信息（位于右上角）</font>。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fu_liQV7zAnAo29Kf8lu35QWa3u_\"><br></p>\n<p><br></p>\n<p>学过平面直角坐标系的同学肯定能一眼看出来图中X,Y,Z的作用。&nbsp;</p>\n<p>X和Z是平面，代表，Y代表高度。&nbsp;</p>\n<p>红框中的方块是电梯地板块的原点，我以这个坐标为基准，建立宽4长3高1的长方体地板。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FvSrmm1PBWB0uyyJWICQuY0EBdnr\"><br></p>\n<p><br></p>\n<p>把上面这块积木连接到【当开始被点击】之后。</p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第二步 放置上下楼按钮</font></p>\n<p>当我在1楼时，我想上楼，所以我放置了【加号】方块作为按钮。&nbsp;</p>\n<p>如何在游戏里放置方块我相信你们都懂的，我就不说了。&nbsp;</p>\n<p><font color=\"#880000\">当我点击【加号】时，电梯就会上升</font>。先做一个点击判定。</p>\n<p>在【事件】中找到【当按下鼠标左键时】，把它修改为【当放开鼠标左键时】。</p>\n<p>&nbsp;在【控制】中找到【如果...】积木，&nbsp;</p>\n<p>【如果】中的条件为【焦点位置的材质是X】。如下图</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FvcF3zX_3BOgEMHB7CzsWdv28l5z\"><br></p>\n<p><br></p>\n<p>复制一下，再放个【减号】积木<br></p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FmqJN0MVIAMs4ysf1IODwjHKPOIY\"><br></p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第三步 让电梯上升</font></p>\n<p>前面已经说过了，Y代表高度，那我们让这个电梯地板的Y值不断增加，电梯就能上升了。&nbsp;</p>\n<p>不断增加=变化的量，<font color=\"#880000\"> 新建一个变量代表高度。</font></p>\n<p><font color=\"#880000\"><br></font></p>\n<p><img src=\"https://static.codemao.cn/FgmXIj7-nWciM1maKPk1--nNakGc\"><font color=\"#880000\"><br></font></p>\n<p><br></p>\n<p>把这个<font color=\"#880000\">变量【电梯高度】的初始值设置为-24</font>。拼到【当开始被点击】之后。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fkrxy5VZUJD3Uewjg_uyGf-rnTFt\"><br></p>\n<p><br></p>\n<p>训练师们应该已经想到了，让这个变量不停加1，电梯就能不断上升了，但具体要怎么做呢？&nbsp;</p>\n<p><font color=\"#880000\">不停=重复执行</font>。但如果电梯上升到太高，那就突破天际了，要让它停在二楼。</p>\n<p>在【控制】分类中找到【重复执行...直到...】积木。&nbsp;</p>\n<p>经过菊菊的测试，二楼地板高度Y=-13，</p>\n<p>&nbsp;所以就是<font color=\"#880000\">重复执行直到【电梯高度=13】</font>。</p>\n<p>在数据中找到<font color=\"#880000\">【使变量电梯高度增加1】</font>。帮它放进重复执行里。&nbsp;</p>\n<p>做到这一步，你可能以为已经完成了？其实并没有。&nbsp;</p>\n<p>数字增加了，可是你没有在数字增加的时候放置地板啊！</p>\n<p>用【建立长方体】积木，X和Z的坐标不变，还是第一步收集的数据，<font color=\"#880000\">在Y的值内，填充【电梯高度】变量</font>。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FjSKKLZtYKELS7EFBQqgLD1ws9Kt\"><br></p>\n<p><br></p>\n<p>新的地板产生了，我们也不要忘了把旧的消除掉，不然电梯间里就全是长方体了。&nbsp;</p>\n<p>还是用【建立长方体】积木，X和Z不变，Y设置为【电梯高度-1】。</p>\n<p>因为是消除方块，所以<font color=\"#880000\">把材质设置为空气</font>。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FklFqlOR42vxWF2rM8DFhuBwd2lY\"><br></p>\n<p><br></p>\n<p>把第二步和第三步的几块积木组合到一起。（如下图）</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fgs2pULYUI3y4QZib3qj2fYISsfy\"><br></p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第四步 让角色跟着电梯一起上升</font></p>\n<p>我们的目的是，让玩家站在电梯上，一起上升、下降。&nbsp;</p>\n<p>在【玩家】分类中拖出【移动玩家到】积木，在【侦测】中找到【位置X...Y...Z...】积木、【玩家位置的X】这两块积木。组合为下图：</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Ftm_J_zFIIu0sj03mDpvjvC2_040\"><br></p>\n<p><br></p>\n<p>把这块积木放在【使变量电梯高度增加1】之后。&nbsp;</p>\n<p>做到这里，从1楼上升到2楼的电梯就做好了，可以先进游戏看一下效果。</p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第五步 电梯与角色一起下降</font></p>\n<p>复制前三步组合起来的电梯上升积木块，稍微做一些调整。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FiAoH1kccXv7ZrIXuVGe5JxAFfaN\"><br></p>\n<p><br></p>\n<p>红框中是和上升积木不同的地方。</p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第六步 一个呼梯装置</font></p>\n<p>经过前五步，其实电梯已经可以运行了，但功能还不太完善。&nbsp;</p>\n<p>当我站在二楼，而电梯在一楼时，我的角色好像只能跳下去。&nbsp;</p>\n<p>所以我又制作了一个小机关来解决这个问题。</p>\n<p>还是<font color=\"#880000\">复制2-4步的积木块</font>。如果<font color=\"#880000\">点击【数字2】方块时触发</font>。&nbsp;</p>\n<p>这次不用移动玩家了，<font color=\"#880000\">把【移动玩家到】这块积木删掉</font>。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fqxa7aGGZCKTbwd1psArus-ke5Ec\"><br></p>\n<p><br></p>\n<p style=\"text-align: center;\"><font size=\"3\">第七步 每次开始时，让电梯都停在一楼</font></p>\n<p>这个功能非常好做，把世界中的电梯地板材质的方块都替换为空气。&nbsp;</p>\n<p>然后在一楼的地方重新建电梯地板。（代码如下图）</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fs_Wj4y30RXNzBxtYzX0qutjneZt\"><br></p>\n<p><br></p>\n<p>上图中建立长方体的积木是在第一步已经做好的，把它从【当开始被点击】后挪出来。&nbsp;</p>\n<p>为了使代码简洁好看，我把每次点击开始时都会触发的设置放在了一个函数下。&nbsp;</p>\n<p>萌新们不要紧张，<font color=\"#880000\">函数的英文是function，意思是功能</font>。和数学没啥关系。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FgshOb8O-I3uszbnpj3OKGte1KTP\"><br></p>\n<p><br></p>\n<p>把第三步中的【设置电梯变量的值为-24】这块积木也放进函数中。组合成这样：</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/Fh4fEvbK_4jD2ndJHQy96c_A_yLJ\"><br></p>\n<p><br></p>\n<p>再从【函数】分类中找到【初始化】，拼到【当开始被点击】之后。</p>\n<p><br></p>\n<p><img src=\"https://static.codemao.cn/FnviIwGZfeRyGsuW7dpEJpZ8UnHE\"><br></p>\n<p><br></p>\n<p>做完这七步，进游戏试试吧，一个来往于一、二楼的电梯做好啦。&nbsp;</p>\n<p>下周我会完善一下电梯，让它能去3、4楼。&nbsp;</p>\n<p>训练师们先自己尝试一下吧喵~</p>\n<p>另外，我把源代码文件放进代码岛QQ群中了，群号644973542</p>\n<p>如果看了攻略还是不会做，可以进群下载代码文件后自己研究哦~</p>\n<p><br></p>\n<p><br></p></p>","board_id":"3","board_name":"神奇代码岛","updated_at":1523609982,"created_at":1523609982,"n_views":1506,"n_replies":25,"n_comments":23,"is_authorized":true,"is_featured":false,"is_hotted":false,"is_pinned":false,"tutorial_flag":0,"ask_help_flag":0}